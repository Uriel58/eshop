<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Order:${orderId} Detail</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet">
</head>
<body>
	<!--
	 * OrderDetail有ord_num(訂單編號),prodNum(產品編號),ord_qty(訂單數量),
	 * ord_price(各產品價格),fare(運費)
	 -->
	<div class="container mt-4">
		<h1 th:if="${name}">
			<span th:text="#{home.message} + ${name}"></span>
		</h1>
		<h1 th:unless="${name}">
			<span th:text="#{home.message} + #{home.visitor}"></span>
		</h1>

		<a th:href="@{/orders}" class="btn btn-outline-secondary mb-3">Back</a> <a
			th:href="@{/orderDetails/add/{orderId}(orderId=${orderId})}"
			class="btn btn-primary mb-3">Add New Order Details</a>

		<h3>Order Information</h3>
		<table class="table table-bordered">
			<thead>
				<tr>
					<th>Order Number</th>
					<th>Product Number</th>
					<th>Product Price</th>
					<th>Quantity Ordered</th>
					<th>Fare</th>
					<th>Function</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="detail : ${details}">
					<td th:text="${detail.order.ordNum}"></td>
					<td th:text="${detail.prodNum}"></td>
					<td th:text="${detail.ordPrice}"></td>
					<td th:text="${detail.ordQty}"></td>
					<td th:text="${detail.fare}"></td>
					<td><a
						th:href="@{/orderDetails/delete/{orderId}/{productId}(orderId=${detail.ordNum}, productId=${detail.prodNum})}"
						class="btn btn-danger btn-sm"
						onclick="return confirm('Are you sure you want to delete this detail?');">Delete</a>
						<a
						th:href="@{/orderDetails/edit/{orderId}/{productId}(orderId=${orderId}, productId=${detail.prodNum})}"
						class="btn btn-warning btn-sm"> Edit </a></td>
				</tr>
			</tbody>
		</table>

		<a th:href="@{/orders}" class="btn btn-danger mt-4">Back to orders</a>
	</div>
</body>
</html>